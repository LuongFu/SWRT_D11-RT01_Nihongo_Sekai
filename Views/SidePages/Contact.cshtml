@{
    Layout = "_Layout";
    ViewData["Title"] = "Liên Hệ - Nihongo Sekai";
    ViewData["Description"] = "Liên hệ với Nihongo Sekai. Liên hệ đội ngũ hỗ trợ, ghé thăm văn phòng hoặc kết nối qua nhiều kênh khác nhau.";
}

@section Head {
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description"
          content="Liên hệ với Nihongo Sekai. Liên hệ đội ngũ hỗ trợ, ghé thăm văn phòng hoặc kết nối qua nhiều kênh khác nhau." />
}

@section Styles {
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="~/css/contact.css" />
    <link rel="stylesheet" href="~/css/styles.css" />
    <link rel="stylesheet" href="~/css/footer.css" />
}

<main>
    <!-- Tiêu đề trang -->
    <section class="page-header">
        <div class="container">
            <h1 class="page-title">Liên Hệ</h1>
            <p class="page-subtitle">
                Chúng tôi sẵn sàng hỗ trợ bạn trong hành trình học tiếng Nhật. Liên hệ với chúng tôi bất cứ lúc nào!
            </p>
        </div>
    </section>

    <!-- Các tùy chọn liên hệ -->
    <section class="contact-options-section">
        <div class="container">
            <div class="contact-grid">
                <!-- Chat trực tiếp -->
                <div class="contact-card">
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                        </svg>
                    </div>
                    <h3 class="contact-title">Chat Trực Tiếp</h3>
                    <p class="contact-description">
                        Trò chuyện với đội ngũ hỗ trợ của chúng tôi theo thời gian thực. Sẵn sàng 24/7 cho các vấn đề khẩn cấp.
                    </p>
                    <button class="btn btn-primary" onclick="openLiveChat()">Bắt Đầu Chat</button>
                </div>

                <!-- Hỗ trợ qua email -->
                <div class="contact-card">
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                            <polyline points="22,6 12,13 2,6" />
                        </svg>
                    </div>
                    <h3 class="contact-title">Hỗ Trợ Qua Email</h3>
                    <p class="contact-description">
                        Gửi tin nhắn chi tiết và chúng tôi sẽ hồi đáp trong vòng 24 giờ.
                    </p>
                    <a href="mailto:support@nihongosekai.com" class="btn btn-outline">Gửi Email</a>
                </div>

                <!-- Hỗ trợ qua điện thoại -->
                <div class="contact-card">
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />
                        </svg>
                    </div>
                    <h3 class="contact-title">Hỗ Trợ Qua Điện Thoại</h3>
                    <p class="contact-description">
                        Gọi cho đội ngũ của chúng tôi để được hỗ trợ ngay lập tức về các sự cố kỹ thuật.
                    </p>
                    <a href="tel:+15554644664" class="btn btn-outline">+1 (555) NIHONGO</a>
                </div>

                <!-- Ghé thăm văn phòng -->
                <div class="contact-card">
                    <div class="contact-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                            <circle cx="12" cy="10" r="3" />
                        </svg>
                    </div>
                    <h3 class="contact-title">Ghé Thăm Văn Phòng</h3>
                    <p class="contact-description">
                        Đặt lịch ghé thăm trụ sở tại Tokyo hoặc văn phòng tại Đà Nẵng.
                    </p>
                    <button class="btn btn-outline" onclick="showOfficeLocations()">Xem Địa Điểm</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Form liên hệ -->
    <section class="contact-form-section">
        <div class="container">
            <div class="form-content">
                <div class="form-header">
                    <h2 class="section-title">Gửi Tin Nhắn Cho Chúng Tôi</h2>
                    <p class="section-subtitle">
                        Điền vào biểu mẫu bên dưới và chúng tôi sẽ liên hệ lại với bạn sớm nhất.
                    </p>
                </div>

                <form class="contact-form" id="contactForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="firstName" class="form-label">Tên *</label>
                            <input type="text"
                                   id="firstName"
                                   name="firstName"
                                   class="form-input"
                                   required />
                        </div>
                        <div class="form-group">
                            <label for="lastName" class="form-label">Họ *</label>
                            <input type="text"
                                   id="lastName"
                                   name="lastName"
                                   class="form-input"
                                   required />
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email" class="form-label">Địa Chỉ Email *</label>
                        <input type="email"
                               id="email"
                               name="email"
                               class="form-input"
                               required />
                    </div>

                    <div class="form-group">
                        <label for="subject" class="form-label">Chủ Đề *</label>
                        <select id="subject"
                                name="subject"
                                class="form-select"
                                required>
                            <option value="">Vui lòng chọn chủ đề</option>
                            <option value="technical">Hỗ Trợ Kỹ Thuật</option>
                            <option value="billing">Thanh Toán & Hóa Đơn</option>
                            <option value="courses">Câu Hỏi Về Khóa Học</option>
                            <option value="teachers">Đăng Ký Giáo Viên</option>
                            <option value="partnerships">Đối Tác Doanh Nghiệp</option>
                            <option value="feedback">Phản Hồi & Góp Ý</option>
                            <option value="other">Khác</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="message" class="form-label">Nội Dung Tin Nhắn *</label>
                        <textarea id="message"
                                  name="message"
                                  rows="6"
                                  class="form-textarea"
                                  placeholder="Vui lòng mô tả chi tiết câu hỏi hoặc vấn đề của bạn..."
                                  required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="newsletter" name="newsletter" />
                            <span class="checkbox-checkmark"></span>
                            Tôi muốn nhận cập nhật về khóa học và tính năng mới
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary btn-large">
                        Gửi Tin Nhắn
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Địa điểm văn phòng -->
    <section class="office-locations-section" id="officeLocations">
        <div class="container">
            <h2 class="section-title">Các Văn Phòng Của Chúng Tôi</h2>
            <div class="offices-grid">
                <div class="office-card">
                    <div class="office-image">
                        <img src="https://daihoc.fpt.edu.vn/da-nang/wp-content/uploads/2025/01/toa_nha_alpha.webp"
                             alt="Văn phòng FPT Đà Nẵng" />
                    </div>
                    <div class="office-info">
                        <h3 class="office-title">Văn Phòng Đà Nẵng</h3>
                        <p>ĐẠI HỌC FPT, Thành phố Đà Nẵng</p>
                        <p>Ký túc xá A, Tầng 2</p>
                        <p>Việt Nam</p>
                        <h4>Giờ Làm Việc</h4>
                        <p>Thứ Hai–Thứ Sáu: 9:00–18:00 JST<br />Thứ Bảy: 10:00–16:00 JST</p>
                        <p>Điện thoại: +84 337‑580‑325<br />Email: fpt@nihongosekai.com</p>
                    </div>
                </div>
                <div class="office-card">
                    <div class="office-image">
                        <img src="https://tourism.danang.vn/wp-content/uploads/2023/02/cau-rong-da-nang-1350x900.jpeg"
                             alt="Văn phòng Liên Chiểu" />
                    </div>
                    <div class="office-info">
                        <h3 class="office-title">Văn Phòng Liên Chiểu</h3>
                        <p>123 Phố Market, Suite 2100</p>
                        <p>Đà Nẵng, Việt Nam</p>
                        <h4>Giờ Làm Việc</h4>
                        <p>Thứ Hai–Thứ Sáu: 9:00–17:00 PST<br />Cuối tuần: Theo lịch hẹn</p>
                        <p>Điện thoại: +84 123‑123‑123<br />Email: lienchieu@nihongosekai.com</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Liên hệ -->
    <section class="contact-faq-section">
        <div class="container">
            <h2 class="section-title">Câu Hỏi Thường Gặp</h2>
            <div class="faq-grid">
                <div class="faq-item">
                    <h3 class="faq-question">Bao lâu thì các bạn phản hồi yêu cầu?</h3>
                    <p class="faq-answer">
                        Chúng tôi thường phản hồi email trong vòng 24 giờ vào ngày làm việc.
                        Chat trực tiếp và hỗ trợ qua điện thoại có sẵn cho các vấn đề khẩn cấp.
                    </p>
                </div>
                <div class="faq-item">
                    <h3 class="faq-question">Tôi có thể đặt lịch bài học thử không?</h3>
                    <p class="faq-answer">
                        Có—liên hệ để đặt bài học thử miễn phí 30 phút với giáo viên chứng nhận trước khi đăng ký khóa học.
                    </p>
                </div>
                <div class="faq-item">
                    <h3 class="faq-question">Các bạn có đào tạo doanh nghiệp không?</h3>
                    <p class="faq-answer">
                        Chúng tôi cung cấp chương trình đào tạo tiếng Nhật tùy chỉnh cho doanh nghiệp.
                        Liên hệ đội ngũ đối tác để biết thêm chi tiết.
                    </p>
                </div>
                <div class="faq-item">
                    <h3 class="faq-question">Nhóm hỗ trợ hỗ trợ những ngôn ngữ nào?</h3>
                    <p class="faq-answer">
                        Nhóm hỗ trợ hoạt động bằng tiếng Anh, Nhật, Quan Thoại, Hàn và Tây Ban Nha.
                        Vui lòng cho chúng tôi biết ngôn ngữ bạn mong muốn khi liên hệ.
                    </p>
                </div>
            </div>
        </div>
    </section>
</main>

@section Scripts {
    <script src="~/js/script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            initializeContactForm();
        });

        function initializeContactForm() {
            const form = document.getElementById("contactForm");
            form.addEventListener("submit", async (e) => {
                e.preventDefault();
                await handleContactFormSubmission(form);
            });
            form.querySelectorAll("input, textarea, select")
                .forEach(i => i.addEventListener("blur", () => validateInput(i)));
        }

        async function handleContactFormSubmission(form) {
            try {
                window.NihongoSekai.showToast("Đang gửi...", "info");
                // Mô phỏng gọi API
                await new Promise(r => setTimeout(r, 1500));
                window.NihongoSekai.showToast(
                  "Tin nhắn đã được gửi! Chúng tôi sẽ phản hồi trong vòng 24 giờ.",
                  "success"
                );
                form.reset();
            } catch {
                window.NihongoSekai.showToast(
                  "Gửi tin nhắn thất bại. Vui lòng thử lại.",
                  "error"
                );
            }
        }

        function openLiveChat() {
            window.NihongoSekai.showToast(
              "Chat trực tiếp sắp ra mắt! Vui lòng sử dụng email hoặc điện thoại trước nhé.",
              "info"
            );
        }

        function showOfficeLocations() {
            document.getElementById("officeLocations")
                    .scrollIntoView({ behavior: "smooth" });
        }
    </script>
}
